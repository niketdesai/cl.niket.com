var data = [
  {
    "release": "com.desai.niket 3.2",
    "year": 2015,
    "img": "img/",
    "changes" : [
      "Move to Bangalore, India, to join Flipkart as Chief of Staff under my old Google & Motorola VP, Punit Soni.",
      "Travels: Denmark, Egypt, England, Hong Kong, India, Malaysia, Mexico, Singapore, Sweden, Taipei, UAE, USA",
    ],
  },
  {
    "release": "com.desai.niket 3.1",
    "year": 2014,
    "img": "img/",
    "changes" : [
      "Motorola is sold to electronics manufacturer Lenovo. I return to Google in search of a new role.",
      "Extensively travel to Motorola's Chicago-based HQ (becoming fond of the great Windy City).",
      "Attend 15 weddings around the world. I'm in two of them.",
      "Travels: England, India, Japan, Jordan, Korea, Spain",
    ],
  },
  {
    "release": "com.desai.niket 3.0",
    "year": 2013,
    "img": "img/",
    "changes" : [
      "Return to Google joining their Motorola division to help reinvigorate the once venerable company.",
      "Attend third launch of Space X's Dragon at Cape Canaveral with Nat Welch (a personal bucket list item).",
      "Undergo heavy chemotherapy to stop cancer from spreading throughout my body. It is the worst experience of my entire life.",
      "Punchd is formally shut down, accomplishing far less than our aspirations.",
      "Travels: India, Korea, Malaysia, Singapore",
    ],
  },
  {
    "release": "com.desai.niket 2.",
    "year": 2012,
    "img": "img/",
    "changes" : [
      "Receive cancer diagnosis at PAMF, Mountain View, CA, with Dad and Matt Pies present.",
      "Complete two GA surgeries: Radical Orchiectomy, Retroperitoneal Lymph Node Dissection (RPLND).",
      "Serve as groomsman in Xander and Maleesa's wedding in SLO. Attend four other weddings.",
      "Date 1 woman.",
      "Travels: England, Finland, Hong Kong, India, Mexico, Singapore",
    ],
  },
  {
    "release": "com.desai.niket 2.3",
    "img": "img/",
    "year": 2011,
    "changes" : [
      "Punchd acquired by Google, into the Mobile Apps Lab, under Marissa Mayer's GeoLocal unit.",
      "Travels: France, Hong Kong, India, Macau",
    ],
  },
  {
    "release" : "com.desai.niket 2.2",
    "year": 2010,
    "img": "img/",
    "changes" : [
      "Formally start Punchd with Reed Morse and Xander Pollock trying to help small businesses navigate an increasingly digital world.",
      "Move to Union St., San Francisco with Michael Mizono.",
      "Travels: Germany",
    ]
  },
  {
    "release" : "com.desai.niket 2.1",
    "img": "img/",
    "year": 2009,
    "changes" : [
      "Meet Reed Morse, an enterprising computer scientist and tinkerer on double-date in San Francisco.",
      "Graduate from Berkeley with a degree in Industrial Engineering and Operations Research along with exceptional friendships.",
      "Travels: ",
    ]
  },
  {
    "release" : "com.desai.niket 2.0",
    "year": 2008,
    "img": "img/",
    "changes" : [
      "Travels: ",
    ]
  },
  {
    "release": "com.desai.niket 1.8",
    "year": 2007,
    "img": "img/",
    "changes": [
      "Transfer to Berkeley. Join Delta Chi fraternity.",
      "Travels: ",
    ]
  },
  {
    "release" : "com.desai.niket 1.7",
    "year": 2006,
    "img": "img/",
    "changes" : [
      "Grandmother dies on April Fool's Day. Joke was on us.",
      "Travels: ",
    ]
  },
  {
    "release" : "com.desai.niket 1.6",
    "year": 2005,
    "img": "img/",
    "changes" : [
      "Start schooling at De Anza College learning Mathematics and Engineering. Become a senior mathematics tutor.",
      "Earn Eagle Scout rank with the BSA, capping a 10 year journey that began in Singapore.",
      "Travels: France, Italy, Spain",
    ]
  },
  {
    "release" : "com.desai.niket 1.5",
    "year": 2004,
    "img": "img/",
    "changes" : [
      "Arrested for trespassing at my former Kindergarten, Regnart Elementary. Banned from location for three years.",
      "Travels: Singapore",
    ]
  },
  {
    "release" : "com.desai.niket 1.4",
    "year": 2003,
    "img": "img/",
    "changes" : [
      "Relocate from Singapore back to Cupertino, CA. Enter Monta Vista HS in 11th Standard (Junior).",
      "Travels: India",
    ]
  },
  {
    "release" : "com.desai.niket 1.3",
    "year": 2002,
    "img": "img/",
    "changes" : [
      "Dad laid off at Chartered Semiconductor. Life becomes uncertain for Desai family.",
      "Travels: China, India, Indonesia, Malaysia",
    ]
  },
  {
    "release" : "com.desai.niket 1.2",
    "year": 2001,
    "img": "img/",
    "changes" : [
      "Travels: Australia, India, Indonesia, Malaysia, New Zealand",
    ]
  },
  {
    "release" : "com.desai.niket 1.1",
    "year": 2000,
    "img": "img/",
    "changes" : [
      "Attend the 2000 Olympics in Sydney, Australia. Coincidentally stumble on best Indian food.",
      "Travels: Australia, Cambodia, Malaysia, Thailand, Vietnam",
    ]
  },
  {
    "release" : "com.desai.niket 1.0",
    "year": 1999,
    "img": "img/",
    "changes" : [
      "Start 7th standard at the Singapore American School.",
      "Desai family moves to Singapore as my Dad pursues larger role with Chartered Semiconductor.",
      "Travels: India, Indonesia, Singapore",
    ]
  },
  {
    "release" : "com.desai.niket 0.12",
    "year": 1998,
    "img": "img/",
    "changes" : [
      "Luge down Mt. Platpyus in Switzerland.",
      "Attend World Cup in France watching France defeat Italy in quarter finals.",
      "Leave Regnart Elementary in 5th standard to enter John F. Kennedy Middle School.",
      "Travels: England, France, Switzerland",
    ]
  },
  {
    "release" : "com.desai.niket 0.11",
    "year": 1997,
    "img": "img/",
    "changes" : [
      "Visit Florida.",
      "Cruise to Jamaica.",
      "Travels: Mexico, Jamaica ",
    ]
  },
  {
    "release" : "com.desai.niket 0.10",
    "year": 1996,
    "img": "img/",
    "changes" : [
      "Attend 1996 Summer Olympics in Atlanta, GA. Confused by men's Field Hockey.",
      "Travels: ",
    ]
  },
  {
    "release" : "com.desai.niket 0.9",
    "year": 1995,
    "img": "img/",
    "changes" : [
      "Travels:",
    ]
  },
  {
    "release" : "com.desai.niket 0.8",
    "year": 1994,
    "img": "img/",
    "changes" : [
      "",
      "Travels: England, France",
    ]
  },
  {
    "release" : "com.desai.niket 0.7",
    "year": 1993,
    "img": "img/",
    "changes" : [
      "Travels",
    ]
  },
  {
    "release" : "com.desai.niket 0.6",
    "year": 1992,
    "img": "img/",
    "changes" : [
      "Travels:",
    ]
  },
  {
    "release" : "com.desai.niket 0.5",
    "year": 1991,
    "img": "img/",
    "changes" : [
      "Moved to Cupertino CA.",
      "New project: Natasha Desai Init on [REDACTED], 1991 11:31AM. Arrival at Good Samaritan Hospital, San Jose, CA.",
      "Travels: ",
    ]
  },
  {
    "release" : "com.desai.niket 0.3",
    "year": 1989,
    "img": "img/",
    "changes" : [
      "Travels:",
    ]
  },
  {
    "release" : "com.desai.niket 0.2",
    "year": 1988,
    "img": "img/",
    "changes" : [
      "Travels: India",
    ]
  },
  {
    "release" : "com.desai.niket 0.1",
    "year": 1987,
    "img": "img/",
    "changes" : [
      "Project Init on [REDACTED], 1987 5:07AM. Initial maintainers Meena Desai and Naushik Desai. Arrival at Good Samaritan Hospital, San Jose, CA.",
    ]
  },
];

// The actual javascript for the page.
document.addEventListener('DOMContentLoaded', function() {
  data.forEach(function(ev, i){
    // Containing div for each release.
    var release = document.createElement('div');
    var className = 'release';
    if (release.classList) {
        release.classList.add(className);
    } else {
        release.className += ' ' + className;
    }

    // img code.
    var img, imga = null;
    if (ev.img != undefined && ev.img != "") {
      imga = document.createElement('a');
      imga.setAttribute('href', ev.img);
      img = document.createElement('img');
      img.setAttribute('src', ev.img);
      imga.appendChild(img);
    }

    // Unorded list of changes.
    var changeUl = document.createElement('ul');
    var className = 'changelist';
    if (changeUl.classList) {
        changeUl.classList.add(className);
    } else {
        changeUl.className += ' ' + className;
    }

    ev.changes.forEach(function(change, k) {
      var li = document.createElement('li');
      li.innerHTML = change;
      changeUl.appendChild(li);
    });

    // Insert release into page.
    var h2 = document.createElement('h2');
    className = 'clearfix';
    h2.innerHTML = ev.release;
    if (imga != null) {
      release.appendChild(imga);
    }
    release.appendChild(h2);
    release.appendChild(changeUl);
    if (release.classList) {
        release.classList.add(className);
    } else {
        release.className += ' ' + className;
    }
    document.getElementById('data').appendChild(release);
  });
});
